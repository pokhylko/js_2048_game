parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";function r(r,e){return u(r)||o(r,e)||t(r,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(r,n){if(r){if("string"==typeof r)return e(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?e(r,n):void 0}}function e(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function o(r,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var t=[],e=!0,o=!1,u=void 0;try{for(var c,i=r[Symbol.iterator]();!(e=(c=i.next()).done)&&(t.push(c.value),!n||t.length!==n);e=!0);}catch(a){o=!0,u=a}finally{try{e||null==i.return||i.return()}finally{if(o)throw u}}return t}}function u(r){if(Array.isArray(r))return r}var c=document.querySelector(".container"),i=c.querySelector(".controls"),a=i.querySelector(".start"),f=c.querySelector(".game-field"),s=c.querySelector(".message-container"),l=s.querySelector(".message-start"),d=s.querySelector(".message-lose"),v=s.querySelector(".message-win"),m=c.querySelector(".game-score"),y=0,w=[],h=2048,L={rows:4,columns:4},S={up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",left:"ArrowLeft"};function g(r,n){w=new Array(r);for(var t=0;t<r;t++){w[t]=new Array(n);for(var e=0;e<n;e++)w[t][e]=0}}g(L.rows,L.columns);var p=document.createElement("button");function k(){return p.classList.add("restart","button"),p.textContent="Restart",p}function b(){I(),I()}function q(r){"win"===r&&v.classList.remove("hidden"),"lose"===r&&d.classList.remove("hidden"),er()}function A(r,n){var t=f.rows[r].cells[n];w[r][n]>0?(t.classList=["field-cell"],t.classList.add("field-cell--".concat(w[r][n])),t.textContent="".concat(w[r][n])):(t.classList=["field-cell"],t.textContent=""),w[r][n]===h&&q("win")}function E(){return Math.random()<=.1?4:2}function x(){y=0,m.textContent=y}function C(r){y+=r,m.textContent=y}function j(){for(var r=[],n=0;n<L.rows;n++)for(var t=0;t<L.columns;t++)0===w[n][t]&&r.push([n,t]);return M(r)}function M(r){if(r.length>0)return r[Math.floor(Math.random()*r.length)]}function I(){var n=r(j(),2),t=n[0],e=n[1];if(!(0===w[t][e]))return I();w[t][e]=E()}function O(r,n,t,e){w[t][e]=w[r][n],w[r][n]=0}function R(r,n,t,e){w[t][e]*=2,w[r][n]=0}function U(r){for(var n=0;n<L.rows;n++)for(var t=0;t<L.columns;t++)r(n,t)}function D(){for(var r=0;r<L.columns;r++)T(1,r)}function T(r,n){for(var t=0,e=r;e<L.rows;e++)0===w[e-1][n]&&w[e][n]>0&&(O(e,n,e-1,n),t++);if(t>0)return T(r,n)}function $(){for(var r=0;r<L.columns;r++)for(var n=1;n<L.rows;n++)w[n-1][r]===w[n][r]&&w[n][r]>0&&(R(n,r,n-1,r),C(w[n-1][r]),T(n,r))}function z(){for(var r=0;r<L.columns;r++)for(var n=1;n<L.rows;n++)if(w[n][r]>0&&(w[n-1][r]===w[n][r]||0===w[n-1][r]))return!0;return!1}function B(){for(var r=0;r<L.columns;r++)F(L.rows-1,r)}function F(r,n){for(var t=0,e=r;e>=1;e--)0===w[e][n]&&w[e-1][n]>0&&(O(e-1,n,e,n),t++);if(t>0)return F(r,n)}function G(){for(var r=0;r<L.columns;r++)for(var n=L.rows-1;n>=1;n--)w[n-1][r]===w[n][r]&&w[n][r]>0&&(R(n,r,n-1,r),C(w[n-1][r]),F(n,r))}function H(){for(var r=0;r<L.columns;r++)for(var n=L.rows-1;n>=1;n--)if(w[n-1][r]>0&&(w[n][r]===w[n-1][r]||0===w[n][r]))return!0;return!1}function J(){for(var r=0;r<L.rows;r++)K(r,1)}function K(r,n){for(var t=0,e=n;e<L.rows;e++)0===w[r][e-1]&&w[r][e]>0&&(O(r,e,r,e-1),t++);if(t>0)return K(r,n)}function N(){for(var r=0;r<L.rows;r++)for(var n=1;n<L.columns;n++)w[r][n-1]===w[r][n]&&w[r][n]>0&&(R(r,n,r,n-1),C(w[r][n-1]),K(r,n))}function P(){for(var r=0;r<L.rows;r++)for(var n=1;n<L.columns;n++)if(w[r][n]>0&&(w[r][n]===w[r][n-1]||0===w[r][n-1]))return!0;return!1}function Q(){for(var r=0;r<L.columns;r++)V(r,L.columns-1)}function V(r,n){for(var t=0,e=n;e>=1;e--)0===w[r][e]&&w[r][e-1]>0&&(O(r,e-1,r,e),t++);if(t>0)return V(r,n)}function W(){for(var r=0;r<L.rows;r++)for(var n=L.columns-1;n>=1;n--)w[r][n-1]===w[r][n]&&w[r][n]>0&&(R(r,n,r,n-1),C(w[r][n-1]),V(r,n))}function X(){for(var r=0;r<L.rows;r++)for(var n=L.columns-1;n>=1;n--)if(w[r][n-1]>0&&(w[r][n]===w[r][n-1]||0===w[r][n]))return!0;return!1}function Y(){z()||H()||P()||X()||q("lose")}a.addEventListener("click",function(r){a.remove(),i.append(k()),l.classList.add("hidden"),b(),U(A),tr()}),p.addEventListener("click",function(r){d.classList.add("hidden"),x(),g(L.rows,L.columns),b(),U(A),tr()});var Z=function(r){null===i.querySelector(".start")&&r.key===S.up&&z()&&(D(),$(),I(),U(A),Y())},_=function(r){null===i.querySelector(".start")&&r.key===S.down&&H()&&(B(),G(),I(),U(A),Y())},rr=function(r){null===i.querySelector(".start")&&r.key===S.left&&P()&&(J(),N(),I(),U(A),Y())},nr=function(r){null===i.querySelector(".start")&&r.key===S.right&&X()&&(Q(),W(),I(),U(A),Y())};function tr(){document.addEventListener("keydown",Z),document.addEventListener("keydown",_),document.addEventListener("keydown",rr),document.addEventListener("keydown",nr)}function er(){document.removeEventListener("keydown",Z),document.removeEventListener("keydown",_),document.removeEventListener("keydown",rr),document.removeEventListener("keydown",nr)}
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.0057054d.js.map